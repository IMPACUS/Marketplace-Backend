<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">

    <!--  dormant_user 생성  -->
    <changeSet id="changelog-0.09.01-240729" author="lchy0413">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="dormant_user"/>
            </not>
        </preConditions>
        <createTable tableName="dormant_user">
            <column name="dormant_user_id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(255)">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="status_reason" type="VARCHAR(255)"/>
            <column name="type" type="VARCHAR(255)" defaultValue="'ROLE_UNCERTIFIED_USER'">
                <constraints nullable="false"/>
            </column>
            <column name="green_label_point" type="BIGINT" defaultValueNumeric="0">
                <constraints nullable="false"/>
            </column>
            <column name="is_admin" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="is_cert_email" type="BOOLEAN" defaultValueBoolean="false">
                <constraints nullable="false"/>
            </column>
            <column name="cert_email_date_time" type="TIMESTAMP"/>
            <column name="is_cert_phone" type="BOOLEAN" defaultValueBoolean="false">
                <constraints nullable="false"/>
            </column>
            <column name="cert_phone_date_time" type="TIMESTAMP"/>
            <column name="is_cert_bank" type="BOOLEAN" defaultValueBoolean="false">
                <constraints nullable="false"/>
            </column>
            <column name="cert_bank_date_time" type="TIMESTAMP"/>
            <column name="does_agree_service_policy" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="does_agree_personal_policy" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="does_agree_service" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="is_withdrawn" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="withdrawn_date_time" type="TIMESTAMP"/>
            <column name="is_dormancy" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="dormancy_date_time" type="TIMESTAMP"/>
            <column name="dormancy_update_date_time" type="TIMESTAMP"/>
            <column name="selected_payment_method" type="VARCHAR(255)" defaultValue="'NONE'"/>
            <column name="profile_image_id" type="BIGINT"/>
            <column name="password" type="VARCHAR(255)"/>
            <column name="wrong_password_cnt" type="INT"/>
            <column name="bank_code" type="INT"/>
            <column name="bank_account_number" type="VARCHAR(255)"/>
            <column name="user_jumin1" type="VARCHAR(255)"/>
            <column name="user_jumin2" type="VARCHAR(255)"/>
            <column name="auth_ci" type="VARCHAR(255)"/>
            <column name="auth_di" type="VARCHAR(255)"/>
            <column name="pccc" type="VARCHAR(255)"/>
            <column name="create_at" type="TIMESTAMP">
            </column>
            <column name="modify_at" type="TIMESTAMP">
            </column>
            <column name="register_id" type="VARCHAR(255)">
            </column>
            <column name="modify_id" type="VARCHAR(255)">
            </column>
        </createTable>

        <setColumnRemarks tableName="dormant_user" columnName="dormant_user_id"
                          remarks="휴면 사용자 ID"/>
        <setColumnRemarks tableName="dormant_user" columnName="email"
                          remarks="이메일 (OauthProviderKey_Email 형식)"/>
        <setColumnRemarks tableName="dormant_user" columnName="name"
                          remarks="사용자 이름"/>
        <setColumnRemarks tableName="dormant_user" columnName="status"
                          remarks="사용자 계정 상태"/>
        <setColumnRemarks tableName="dormant_user" columnName="status_reason"
                          remarks="사용자 계정 상태 사유"/>
        <setColumnRemarks tableName="dormant_user" columnName="type"
                          remarks="사용자 타입"/>
        <setColumnRemarks tableName="dormant_user" columnName="green_label_point"
                          remarks="그린 라벨 포인트"/>
        <setColumnRemarks tableName="dormant_user" columnName="is_admin"
                          remarks="관리자 계정 여부"/>
        <setColumnRemarks tableName="dormant_user" columnName="is_cert_email"
                          remarks="이메일 인증 여부"/>
        <setColumnRemarks tableName="dormant_user" columnName="cert_email_date_time"
                          remarks="이메일 인증 시간"/>
        <setColumnRemarks tableName="dormant_user" columnName="is_cert_phone"
                          remarks="핸드폰 인증 여부"/>
        <setColumnRemarks tableName="dormant_user" columnName="cert_phone_date_time"
                          remarks="핸드폰 인증 시간"/>
        <setColumnRemarks tableName="dormant_user" columnName="is_cert_bank"
                          remarks="계좌 인증 여부"/>
        <setColumnRemarks tableName="dormant_user" columnName="cert_bank_date_time"
                          remarks="계좌 인증 시간"/>
        <setColumnRemarks tableName="dormant_user" columnName="does_agree_service_policy"
                          remarks="서비스 보안 동의 여부"/>
        <setColumnRemarks tableName="dormant_user" columnName="does_agree_personal_policy"
                          remarks="개인 정보 동의 여부"/>
        <setColumnRemarks tableName="dormant_user" columnName="does_agree_service"
                          remarks="서비스 이용 여부"/>
    </changeSet>


</databaseChangeLog>