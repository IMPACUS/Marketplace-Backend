<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">

    <!--  ask 생성  -->
    <changeSet id="db.changelog-0.10.01-240808" author="lchy0413">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="ask"/>
            </not>
        </preConditions>
        <createTable tableName="ask">
            <column name="ask_id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="parent_id" type="BIGINT">
                <constraints nullable="true"/>
            </column>
            <column name="ask_type" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="contents" type="TEXT">
                <constraints nullable="true"/>
            </column>
            <column name="is_answered" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="is_deleted" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>

            <column name="create_at" type="TIMESTAMP">
            </column>
            <column name="modify_at" type="TIMESTAMP">
            </column>
            <column name="register_id" type="VARCHAR(255)">
            </column>
            <column name="modify_id" type="VARCHAR(255)">
            </column>
        </createTable>

        <!-- Column Remarks -->
        <setColumnRemarks tableName="ask" columnName="ask_id" remarks="질문 ID"/>
        <setColumnRemarks tableName="ask" columnName="parent_id" remarks="부모 질문 ID"/>
        <setColumnRemarks tableName="ask" columnName="ask_type" remarks="질문 타입"/>
        <setColumnRemarks tableName="ask" columnName="title" remarks="제목"/>
        <setColumnRemarks tableName="ask" columnName="contents" remarks="내용"/>
        <setColumnRemarks tableName="ask" columnName="is_answered" remarks="답변 여부"/>
        <setColumnRemarks tableName="ask" columnName="is_deleted" remarks="삭제 여부"/>
    </changeSet>

    <!--  attach_file 생성  -->
    <changeSet id="db.changelog-0.10.02-240808" author="lchy0413">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="attach_file"/>
            </not>
        </preConditions>
        <createTable tableName="attach_file">
            <column name="attach_file_id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="attach_file_name" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="attach_file_size" type="BIGINT">
                <constraints nullable="true"/>
            </column>
            <column name="original_file_name" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="attach_file_ext" type="VARCHAR(50)">
                <constraints nullable="true"/>
            </column>
            <column name="is_deleted" type="BOOLEAN" defaultValueBoolean="false">
                <constraints nullable="false"/>
            </column>
            <column name="create_at" type="TIMESTAMP">
            </column>
            <column name="modify_at" type="TIMESTAMP">
            </column>
            <column name="register_id" type="VARCHAR(255)">
            </column>
            <column name="modify_id" type="VARCHAR(255)">
            </column>
        </createTable>

        <!-- Column Remarks -->
        <setColumnRemarks tableName="attach_file" columnName="attach_file_id" remarks="첨부파일 ID"/>
        <setColumnRemarks tableName="attach_file" columnName="attach_file_name" remarks="첨부파일 이름"/>
        <setColumnRemarks tableName="attach_file" columnName="attach_file_size" remarks="첨부파일 용량"/>
        <setColumnRemarks tableName="attach_file" columnName="original_file_name" remarks="원본 이름"/>
        <setColumnRemarks tableName="attach_file" columnName="attach_file_ext" remarks="첨부파일 확장자"/>
        <setColumnRemarks tableName="attach_file" columnName="is_deleted" remarks="삭제 여부"/>
    </changeSet>

    <!--  attach_file_group 생성  -->
    <changeSet id="db.changelog-0.10.03-240808" author="lchy0413">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="attach_file_group"/>
            </not>
        </preConditions>
        <createTable tableName="attach_file_group">
            <column name="attach_file_group_id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="attach_file_id" type="BIGINT">
                <constraints nullable="true"/>
            </column>
            <column name="referenced_id" type="BIGINT">
                <constraints nullable="true"/>
            </column>
            <column name="referenced_entity" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>

            <column name="create_at" type="TIMESTAMP">
            </column>
            <column name="modify_at" type="TIMESTAMP">
            </column>
            <column name="register_id" type="VARCHAR(255)">
            </column>
            <column name="modify_id" type="VARCHAR(255)">
            </column>
        </createTable>

        <!-- Column Remarks -->
        <setColumnRemarks tableName="attach_file_group" columnName="attach_file_group_id" remarks="AttachFileGroup ID"/>
        <setColumnRemarks tableName="attach_file_group" columnName="attach_file_id" remarks="AttachFile 객체 ID"/>
        <setColumnRemarks tableName="attach_file_group" columnName="referenced_id" remarks="AttachFile을 참조하는 ID"/>
        <setColumnRemarks tableName="attach_file_group" columnName="referenced_entity" remarks="참조된 엔티티 타입"/>
    </changeSet>

    <!--  email_history 생성  -->
    <changeSet id="db.changelog-0.10.04-240808" author="lchy0413">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="email_history"/>
            </not>
        </preConditions>
        <createTable tableName="email_history">
            <column name="history_id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="mail_type" type="INTEGER" defaultValue="1">
                <constraints nullable="false"/>
            </column>
            <column name="receive_email" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="receiver_id" type="VARCHAR(255)" defaultValue="implace">
                <constraints nullable="false"/>
            </column>
            <column name="auth_no" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="send_at" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>

            <column name="create_at" type="TIMESTAMP"/>
            <column name="modify_at" type="TIMESTAMP"/>
            <column name="register_id" type="VARCHAR(255)"/>
            <column name="modify_id" type="VARCHAR(255)"/>
        </createTable>

        <!-- Column Remarks -->
        <setColumnRemarks tableName="email_history" columnName="history_id" remarks="이메일 히스토리 ID"/>
        <setColumnRemarks tableName="email_history" columnName="mail_type" remarks="메일 타입"/>
        <setColumnRemarks tableName="email_history" columnName="receive_email" remarks="수신인 이메일"/>
        <setColumnRemarks tableName="email_history" columnName="receiver_id" remarks="발신인 ID"/>
        <setColumnRemarks tableName="email_history" columnName="auth_no" remarks="인증번호"/>
        <setColumnRemarks tableName="email_history" columnName="send_at" remarks="발송 시각"/>
    </changeSet>

    <!--  sub_category 생성  -->
    <changeSet id="db.changelog-0.10.05-240808" author="lchy0413">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="sub_category"/>
            </not>
        </preConditions>
        <createTable tableName="sub_category">
            <column name="sub_category_id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="super_category_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="thumbnail_id" type="BIGINT">
                <constraints nullable="true"/>
            </column>
            <column name="name" type="VARCHAR(10)">
                <constraints nullable="false"/>
            </column>

            <column name="create_at" type="TIMESTAMP"/>
            <column name="modify_at" type="TIMESTAMP"/>
            <column name="register_id" type="VARCHAR(255)"/>
            <column name="modify_id" type="VARCHAR(255)"/>
        </createTable>

        <!-- Column Remarks -->
        <setColumnRemarks tableName="sub_category" columnName="sub_category_id" remarks="서브 카테고리 ID"/>
        <setColumnRemarks tableName="sub_category" columnName="super_category_id" remarks="슈퍼 카테고리 ID"/>
        <setColumnRemarks tableName="sub_category" columnName="thumbnail_id" remarks="썸네일 ID"/>
        <setColumnRemarks tableName="sub_category" columnName="name" remarks="카테고리 이름"/>
    </changeSet>

    <!--  super_category 생성  -->
    <changeSet id="db.changelog-0.10.06-240808" author="lchy0413">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="super_category"/>
            </not>
        </preConditions>
        <createTable tableName="super_category">
            <column name="super_category_id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(10)">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="create_at" type="TIMESTAMP"/>
            <column name="modify_at" type="TIMESTAMP"/>
            <column name="register_id" type="VARCHAR(255)"/>
            <column name="modify_id" type="VARCHAR(255)"/>
        </createTable>

        <setColumnRemarks tableName="super_category" columnName="super_category_id" remarks="슈퍼 카테고리 ID"/>
        <setColumnRemarks tableName="super_category" columnName="name" remarks="카테고리 이름"/>
    </changeSet>

    <!--  admin_activity_log 생성  -->
    <changeSet id="db.changelog-0.10.07-240808" author="lchy0413">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="super_category"/>
            </not>
        </preConditions>
        <createTable tableName="admin_activity_log">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="admin_id" type="BIGINT">
                <constraints nullable="true"/>
            </column>
            <column name="crtDate" type="TIMESTAMP">
                <constraints nullable="true"/>
            </column>
            <column name="activity_detail" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>

            <column name="create_at" type="TIMESTAMP"/>
            <column name="modify_at" type="TIMESTAMP"/>
            <column name="register_id" type="VARCHAR(255)"/>
            <column name="modify_id" type="VARCHAR(255)"/>
        </createTable>

        <!-- Column Remarks -->
        <setColumnRemarks tableName="admin_activity_log" columnName="id" remarks="관리자 활동 로그 ID"/>
        <setColumnRemarks tableName="admin_activity_log" columnName="admin_id" remarks="관리자 ID"/>
        <setColumnRemarks tableName="admin_activity_log" columnName="crtDate" remarks="생성 일자"/>
        <setColumnRemarks tableName="admin_activity_log" columnName="activity_detail" remarks="활동 상세 정보"/>
    </changeSet>

    <!--  admin_info 생성  -->
    <changeSet id="db.changelog-0.10.08-240808" author="lchy0413">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="admin_info"/>
            </not>
        </preConditions>
        <createTable tableName="admin_info">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="img_src" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="name" type="VARCHAR(100)">
                <constraints nullable="true"/>
            </column>
            <column name="phone_number" type="VARCHAR(20)">
                <constraints nullable="true"/>
            </column>
            <column name="email" type="VARCHAR(100)">
                <constraints nullable="true"/>
            </column>
            <column name="addr" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="jumin_no" type="VARCHAR(13)">
                <constraints nullable="true"/>
            </column>
            <column name="account_type" type="VARCHAR(50)">
                <constraints nullable="true"/>
            </column>
            <column name="admin_id_name" type="VARCHAR(100)">
                <constraints nullable="true"/>
            </column>
            <column name="password" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="recent_activity_date" type="TIMESTAMP">
                <constraints nullable="true"/>
            </column>

            <column name="create_at" type="TIMESTAMP"/>
            <column name="modify_at" type="TIMESTAMP"/>
            <column name="register_id" type="VARCHAR(255)"/>
            <column name="modify_id" type="VARCHAR(255)"/>
        </createTable>

        <!-- Column Remarks -->
        <setColumnRemarks tableName="admin_info" columnName="id" remarks="관리자 ID"/>
        <setColumnRemarks tableName="admin_info" columnName="img_src" remarks="이미지 소스"/>
        <setColumnRemarks tableName="admin_info" columnName="name" remarks="관리자 이름"/>
        <setColumnRemarks tableName="admin_info" columnName="phone_number" remarks="전화번호"/>
        <setColumnRemarks tableName="admin_info" columnName="email" remarks="이메일"/>
        <setColumnRemarks tableName="admin_info" columnName="addr" remarks="주소"/>
        <setColumnRemarks tableName="admin_info" columnName="jumin_no" remarks="주민번호"/>
        <setColumnRemarks tableName="admin_info" columnName="account_type" remarks="계좌 유형"/>
        <setColumnRemarks tableName="admin_info" columnName="admin_id_name" remarks="관리자 ID 이름"/>
        <setColumnRemarks tableName="admin_info" columnName="password" remarks="비밀번호"/>
        <setColumnRemarks tableName="admin_info" columnName="recent_activity_date" remarks="최근 활동 일자"/>
    </changeSet>

    <!--  admin_login_log 생성  -->
    <changeSet id="db.changelog-0.10.09-240808" author="lchy0413">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="admin_login_log"/>
            </not>
        </preConditions>
        <createTable tableName="admin_login_log">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="admin_id" type="BIGINT">
                <constraints nullable="true"/>
            </column>
            <column name="crt_date" type="TIMESTAMP">
                <constraints nullable="true"/>
            </column>
            <column name="status" type="VARCHAR(50)">
                <constraints nullable="true"/>
            </column>

            <column name="create_at" type="TIMESTAMP"/>
            <column name="modify_at" type="TIMESTAMP"/>
            <column name="register_id" type="VARCHAR(255)"/>
            <column name="modify_id" type="VARCHAR(255)"/>
        </createTable>

        <!-- Column Remarks -->
        <setColumnRemarks tableName="admin_login_log" columnName="id" remarks="로그인 로그 ID"/>
        <setColumnRemarks tableName="admin_login_log" columnName="admin_id" remarks="관리자 ID"/>
        <setColumnRemarks tableName="admin_login_log" columnName="crt_date" remarks="생성 일자"/>
        <setColumnRemarks tableName="admin_login_log" columnName="status" remarks="상태"/>
    </changeSet>

    <!--  delivery_address 생성  -->
    <changeSet id="db.changelog-0.10.10-240808" author="lchy0413">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="delivery_address"/>
            </not>
        </preConditions>
        <createTable tableName="delivery_address">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>

            <column name="receiver" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="connect_number" type="VARCHAR(50)">
                <constraints nullable="true"/>
            </column>
            <column name="address" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="detail_address" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="postal_code" type="VARCHAR(20)">
                <constraints nullable="true"/>
            </column>
            <column name="memo" type="TEXT">
                <constraints nullable="true"/>
            </column>

            <column name="create_at" type="TIMESTAMP"/>
            <column name="modify_at" type="TIMESTAMP"/>
            <column name="register_id" type="VARCHAR(255)"/>
            <column name="modify_id" type="VARCHAR(255)"/>
        </createTable>

        <!-- Column Remarks -->
        <setColumnRemarks tableName="delivery_address" columnName="receiver" remarks="수신인"/>
        <setColumnRemarks tableName="delivery_address" columnName="connect_number" remarks="연락처 번호"/>
        <setColumnRemarks tableName="delivery_address" columnName="address" remarks="주소"/>
        <setColumnRemarks tableName="delivery_address" columnName="detail_address" remarks="상세 주소"/>
        <setColumnRemarks tableName="delivery_address" columnName="postal_code" remarks="우편번호"/>
        <setColumnRemarks tableName="delivery_address" columnName="memo" remarks="메모"/>
    </changeSet>

    <!--  my_delivery_address 생성  -->
    <changeSet id="db.changelog-0.10.11-240808" author="lchy0413">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="my_delivery_address"/>
            </not>
        </preConditions>
        <createTable tableName="my_delivery_address">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>

            <column name="user_id" type="BIGINT">
                <constraints nullable="true"/>
            </column>

            <column name="receiver" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="connect_number" type="VARCHAR(50)">
                <constraints nullable="true"/>
            </column>
            <column name="address" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="detail_address" type="VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
            <column name="postal_code" type="VARCHAR(20)">
                <constraints nullable="true"/>
            </column>
            <column name="memo" type="TEXT">
                <constraints nullable="true"/>
            </column>

            <column name="create_at" type="TIMESTAMP"/>
            <column name="modify_at" type="TIMESTAMP"/>
            <column name="register_id" type="VARCHAR(255)"/>
            <column name="modify_id" type="VARCHAR(255)"/>
        </createTable>

        <!-- Column Remarks -->
        <setColumnRemarks tableName="delivery_address" columnName="receiver" remarks="수신인"/>
        <setColumnRemarks tableName="delivery_address" columnName="connect_number" remarks="연락처 번호"/>
        <setColumnRemarks tableName="delivery_address" columnName="address" remarks="주소"/>
        <setColumnRemarks tableName="delivery_address" columnName="detail_address" remarks="상세 주소"/>
        <setColumnRemarks tableName="delivery_address" columnName="postal_code" remarks="우편번호"/>
        <setColumnRemarks tableName="delivery_address" columnName="memo" remarks="메모"/>
    </changeSet>
</databaseChangeLog>